package com.modou.loc;

import com.modou.loc.module.sensor.SensorMgr;
import com.modou.loc.task.SensorDataTask;
import com.modou.loc.task.WifiDataTask;

import android.os.Bundle;
import android.widget.TextView;

public class MainActivity extends BaseActivity {

	private WifiDataTask wifiDataTask;
	private SensorDataTask sensorDataTask;
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		
		initData();
	}

	/**
	 * 初始化数据
	 */
	private void initData() {
		wifiDataTask = new WifiDataTask(this);
		wifiDataTask.start();
		
		sensorDataTask = new SensorDataTask(this);
		sensorDataTask.start();
		
		
		
		// 获取手机设备支持参数，并显示到页面上
		String res = SensorMgr.getInstance().getSupportSensorInfo();
		TextView txtviewContent = (TextView) findViewById(R.id.txtview_msg);
		txtviewContent.setText(res);
	}
	
	@Override
	protected void onDestroy() {
		
		wifiDataTask.cancel();
		sensorDataTask.cancel();
		
		super.onDestroy();
	}
	
}
