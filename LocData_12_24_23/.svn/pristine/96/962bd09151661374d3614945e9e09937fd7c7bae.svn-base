package com.modou.utils;

import java.io.File;
import java.io.IOException;

import android.content.Context;
import android.os.Environment;

/**
 * @author 作者 E-mail: xyylchq@163.com
 * @version 创建时间: 2014-5-24 上午9:49:57
 * 类说明:
 * 存储相关操作类
 * 记录下载文件保存位置，检查是否有可用存储设备，
 *下载文件是否存在，是否有可用存储空间等等。
 */
public class StorageUtil {

	/**检测是否有可用的SD卡存储设备*/
	public static boolean getStorageState() {
		final String dirState = Environment.getExternalStorageState();
		if (Environment.MEDIA_MOUNTED.equals(dirState))
			return true;
		return false;
	}
	
	/**获取下载文件存储路径*/
	public static String getStoragePath(Context context) {
		return Environment.getExternalStorageDirectory().getAbsolutePath()
		+ File.separator + "Android" + File.separator + "data"
		+ File.separator + context.getPackageName() + File.separator
		+ "files" + File.separator;
	}
	
	/**
	 * 创建文件
	 * @param fileName	文件名称
	 * @param context	活动上下文
	 * @return
	 */
	public static File createFile(String fileName, Context context) {
		String path = getStoragePath(context) + fileName + ".txt";
		try {
			File file = new File(path);
			File dir = file.getParentFile();
			if (!dir.exists())
				dir.mkdirs();
			if (!file.exists())
				file.createNewFile();
			return file;
		} catch (IOException e) {
			e.printStackTrace();
			return null;
		}
	}
	
}
